<!DOCTYPE html>

<html>
<head>
  <title>Meteor Shower</title>
</head>
<body>
    <div>
  <h1>Meteor</h1>
  <p>This is a web application that allows users to search for specific names on the NASA API.</p>
  <input type="text" id="searchBar" placeholder="Enter a name">
  <button id="searchButton">Search</button>
  <div id="resultsContainer"></div>
 <table id = "tables"></table>
</div>
  <script>
const apiUrl = "https://data.nasa.gov/resource/gh4g-9sfh.json";
const searchBar = document.getElementById("searchBar");
const searchButton = document.getElementById("searchButton");
const resultsContainer = document.getElementById("resultsContainer");

let minMass = null;
let maxMass = null;

const handleSearchBarChange = () => {
  const searchTerm = searchBar.value;
  if (searchTerm.length > 0) {
    const xhr = new XMLHttpRequest();
    xhr.open("GET", apiUrl, true);
    xhr.setRequestHeader("Content-Type", "application/json");
    xhr.onload = function() {
      if (xhr.status === 200) {
        const data = JSON.parse(xhr.responseText);
        const space = data.slice(0, 20);
        resultsContainer.innerHTML = "";
        for (const meteorite of space) {
          if (meteorite.name.toLowerCase().includes(searchTerm.toLowerCase())) {
            /*if (minMass === null || meteorite.mass < minMass) {
              minMass = meteorite.mass;
            }

            if (maxMass === null || meteorite.mass > maxMass) {
              maxMass = meteorite.mass;
            }*/
            resultsContainer.innerHTML += `
            <p>Name:${meteorite.name}</p>
              <p>Mass:${meteorite.mass}</p>
              <p>Year: ${meteorite.year}</p>
            `;
            
          }
        }
       /* minMass = null;
        maxMass = null;*/
      } else {
        resultsContainer.innerHTML = `
          <p>Something went wrong.</p>
        `;
      }
    };
    xhr.send({
      query: searchTerm
    });
  } else {
    resultsContainer.innerHTML = "";
  }
};

searchButton.addEventListener("click", handleSearchBarChange);


  </script>
</body>
</html>